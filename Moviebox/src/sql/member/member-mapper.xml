<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">
<properties>

	<comment>
		Member Mapper
	</comment>
	
	<entry key="login">
		 SELECT
	            MEMBER_NO,
	            MEMBER_ID,	
	            MEMBER_PWD,	
	            MEMBER_NAME,	
	            BIRTHDAY,	
	            GENDER,	
	            EMAIL,	
	            PHONE,	
	            ADDRESS,	
	            ENROLL_DATE,	
	            STATUS,	
	            PRIVILEGE,	
	            LOCATION_NAME
	   	   FROM
	            TB_MEMBER
	       JOIN
                TB_LOCATION ON(LOCAL_CODE = LOCATION_CODE)
	      WHERE
	            MEMBER_ID = ?
	        AND
	            MEMBER_PWD = ?
	        AND
	            STATUS = 'Y'

	</entry>
	
	<entry key="loginGenre">
		SELECT
                GENRE_CATEGORY
	   	   FROM
	            TB_MEMBER
           JOIN
                TB_MEMBERGENR ON(MEMBER_NO = MEM_NO)
           JOIN
                TB_GENRE USING(GENRE_CODE)
          WHERE
	            MEMBER_ID = ?
	        AND
	            MEMBER_PWD = ?
	        AND
	            STATUS = 'Y'
	
	
	</entry>
	
	
	<entry key="memberInsert">
		INSERT
  	      INTO
       		   TB_MEMBER(MEMBER_NO,MEMBER_ID,MEMBER_PWD,MEMBER_NAME,BIRTHDAY,GENDER,EMAIL,PHONE,ADDRESS,LOCAL_CODE)
		VALUES 
			   (SEQ_MEMNO.NEXTVAL,?,?,?,?,?,?,?,?,?)
	
	</entry>
	
	
	<entry key="genreInsert">
		INSERT
   		  INTO
       		   TB_MEMBERGENR
	    VALUES(
	    		SEQ_MEMNO.CURRVAL,
	    		(SELECT
       				    GENRE_CODE
 				   FROM
       				    TB_GENRE
 				   WHERE
       					 GENRE_CATEGORY = ?))
	
	</entry>
	
</properties>
