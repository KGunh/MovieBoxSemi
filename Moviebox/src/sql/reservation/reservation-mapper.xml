<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">
<properties>

	<comment>
		Reservation Mapper
	</comment>
	
	<entry key="selectMovieList">
		SELECT
		       MOVIE_NO,
		       MOVIE_TITLE,
		       FILE_PATH,
		       CHANGE_NAME
		  FROM
		       TB_MOVIE
		  JOIN
		       TB_ATTACHMENT USING(MOVIE_NO)
		 WHERE
		       STATUS = 'Y'  
		 ORDER
		    BY
		       MOVIE_NO
	</entry>
	
	<entry key="selectLocationList">
		SELECT
		       LOCATION_CODE,
		       LOCATION_NAME
		  FROM
		       TB_LOCATION
	</entry>
	
	<entry key="selectScreen">
		SELECT
		       SCREEN_NO,
		       THEATER_NO,
		       THEATER_NAME,
		       MOVIE_TITLE,
		       MOVIE_NO,
		       MOVIE_RT,
		       WATCH_DATE,
		       SCREEN_NAME||'ê´€' AS SCREEN_NAME
		  FROM
		       TB_SCREEN
		  JOIN    
		       TB_MOVIE USING(MOVIE_NO)
		  JOIN
		       TB_THEATER USING(THEATER_NO)
		  JOIN
		       TB_LOCATION USING(LOCATION_CODE)
		 WHERE
		       MOVIE_NO = ?
		   AND
		       LOCATION_NAME LIKE '%'||?||'%'
		   AND 
		       WATCH_DATE LIKE ?
	     ORDER
	        BY
		       THEATER_NO,
		       WATCH_DATE
	</entry>
	
	
</properties>
